%{
	#include<stdio.h>
	%include<string.h>
	#include<stdlib.h>
	char stk[20],input[20];
	int top=-1;
	int i=0;
%}
%token id
%left '+' '-'
%left '*' '/'
%left '(' ')'
%%
L:E {printf"Accept\n");};
E:E '+' T {stk[top-2]='E';top=top-2;stk[top+1]='\0';printf("%s%s",stk,&input[i]);printf("Reduce E-->E+T");}
	|T {stk[top-1]='E';stk[top+1]='\0';printf("%s%s",stk,&input[i]);printf("Reduce E-->T");};
E:T '*' F { stk[top-3]='T';top=top-3;stk[top+1]='\0';printf("%s%s",stk,&input[i]);printf("Reduce T-->T*F");}
	|F {stk[top-1]='T';stk[top+1]='\0';printf("%s%s",stk,&input[i]);printf("Reduce T-->F");};
F:id {stk[top-1]='F';stk[top+1]='\0';printf("%s%s",stk,&input[i]);printf("Reduce F-->id");
%%
main()
{
	stk[++top]='$';
	printf("Grammar is:");
	printf("E-->E+T|T\nT-->T*F|F\nF-->id");
	printf("Enter the expression:");
	scanf("%s",input);
	printf("STACK\t\tINPUT\t\tACTION");
	yyparse();
	return 0;
}
yylex()
{
	while(input[i]!='\0')
	{
		if(input[i]=='i' && input[i+1]=='d')
		{
			stk[++top]='i';
			stk[++top]='d';
			stk[top+1]='\0';
			i=i+2;
			printf("%s%s%s",stk,&input[i],"SHIFT ID");
			return id;
		}
		else
		{
			stk[top]=input[i];
			stk[top+1]='\0';
			i=i+1;
			printf("%s%s%s",stk,&input[i],"SHIFT SYMBOL");
			return input[i-1];
		}
	}
}
int yyerror()
{
	printf("Invalid expression:"):
	exit(0;
}
